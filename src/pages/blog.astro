---
import BaseHead from '../components/BaseHead.astro';
import '../styles/of.css';
import '../styles/blogg.css';

import { getCollection } from 'astro:content';

const blogPosts = await getCollection('blog');

export async function getStaticPaths() {
	console.log(blogPosts[0].slug)
  return blogPosts.map(blogPost => ({
    params: { slug: blogPost.slug }, props: { blogPost },
  }));
}

---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
		href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
		rel="stylesheet"
		/>
	</head>
	<main class="blog">
		<h1>Blogg</h1>
		<div class="blog-posts">
		{blogPosts.map((post) => (
			<a href={"/blog/" + post.slug} class="blog-posts__preview">
				<h2 class="blog-posts__preview-title">{post.data.title}</h2>
				<p class="blog-posts__preview-body">{post.body}</p>
			</a>
		))}
		</a>
	</main>
</html>
